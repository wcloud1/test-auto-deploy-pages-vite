const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/403-DAzOMSZ5.js","js/vendor-vue-B-umkNZb.js","js/vendor-store-Cql5Oc8F.js","js/vendor-utils-CUZGapLB.js","js/vendor-other-BL_KQfZI.js","assets/403-C7gNMY65.css"])))=>i.map(i=>d[i]);
var e=(e,t,r)=>new Promise((s,a)=>{var n=e=>{try{i(r.next(e))}catch(t){a(t)}},o=e=>{try{i(r.throw(e))}catch(t){a(t)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,o);i((r=r.apply(e,t)).next())});import{r as t,j as r,k as s,l as a,p as n,q as o,s as i,F as l,u as c,v as d,x as u,f as m,y as p,z as h,A as v,B as f,C as g}from"./vendor-vue-B-umkNZb.js";import{d as y,c as b,s as w}from"./vendor-store-Cql5Oc8F.js";import{a as _}from"./vendor-utils-CUZGapLB.js";import{h as k}from"./vendor-other-BL_KQfZI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const E=_.create({timeout:1e4,baseURL:"/"});E.interceptors.request.use(e=>e,e=>Promise.reject(e)),E.interceptors.response.use(e=>e&&200<=e.status<=299?e.data:Promise.reject(e),e=>Promise.reject(e));const I=y("article",()=>{const r=t([]);return{articleList:r,getArticleData:()=>e(null,null,function*(){return E("/api/getArticle").then(t=>e(null,null,function*(){r.value=Object.values(t)})).catch(e=>{r.value=[]})})}},{enabled:!0,strategies:[{key:"article",storage:localStorage,paths:["articleList"]}]}),U=b();U.use(w);const O={wmCanvasUrl:"",wmObserver:null,wmDiv:null,updateTimer:null,isUpdating:!1,createWatermark({text:e=["默认水印"],width:t=300,height:r=200,font:s="13px Microsoft YaHei",color:a="rgba(180,180,180,0.3)",lineHeight:n=20,angle:o=-20}){const i=document.createElement("canvas");i.width=t,i.height=r;const l=i.getContext("2d");l.clearRect(0,0,t,r),l.fillStyle=a,l.font=s,l.textBaseline="top",l.setTransform(1,0,0,1,t/2,r/2),l.rotate(o*Math.PI/180);const c=[...e,k().format("YYYY-MM-DD HH:mm:ss")];let d=-c.length*n/2;c.forEach(e=>{const t=l.measureText(e).width;l.fillText(e,-t/2,d),d+=n}),this.wmCanvasUrl=i.toDataURL()},renderWatermark(){if(!this.isUpdating){this.isUpdating=!0;try{const e=document.getElementById("__global_watermark");e&&e.remove();const t=document.createElement("div");t.id="__global_watermark",Object.assign(t.style,{position:"fixed",inset:"0",zIndex:"999999",pointerEvents:"none",backgroundImage:`url(${this.wmCanvasUrl})`,backgroundRepeat:"repeat"}),document.body.appendChild(t),this.wmDiv=t}finally{this.isUpdating=!1}}},startObserver(){this.wmObserver&&this.wmObserver.disconnect(),this.wmObserver=new MutationObserver(e=>{if(this.isUpdating)return;let t=!1;const r=document.getElementById("__global_watermark");e.forEach(e=>{(e.removedNodes.length||e.addedNodes.length||"__global_watermark"===e.target.id&&"style"===e.attributeName)&&(t=!0)}),!t||r&&r.style.backgroundImage===`url("${this.wmCanvasUrl}")`||this.renderWatermark()}),this.wmObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})},setWatermark(e={}){this.createWatermark(e),this.renderWatermark(),this.startObserver()},startAutoUpdate(e,t=1e3){this.stopAutoUpdate(),this.setWatermark(e);const r=()=>{this.createWatermark(e),this.renderWatermark(),this.updateTimer=setTimeout(r,t)};this.updateTimer=setTimeout(r,t)},stopAutoUpdate(){clearTimeout(this.updateTimer),this.updateTimer=null},removeWatermark(){var e;this.stopAutoUpdate(),null==(e=this.wmObserver)||e.disconnect(),this.wmObserver=null;const t=document.getElementById("__global_watermark");t&&t.remove(),this.wmDiv=null,this.isUpdating=!1}},j=(e,t)=>{const r=e.__vccOpts||e;for(const[s,a]of t)r[s]=a;return r},P=j({__name:"App",setup:t=>(O.startAutoUpdate({text:["测试","水印"]}),r(()=>e(null,null,function*(){yield new Promise((e,t)=>{if(document.querySelector("#remote-cdn-script"))return void e();const r=document.createElement("script");r.id="cdn-particles",r.src="https://cdn.jsdelivr.net/npm/canvas-nest.js/dist/canvas-nest.js",r.async=!0,r.defer=!0,r.type="text/javascript",r.color="90,156,254",r.opacity="0.7",r.zIndex="2",r.count="66",r.onload=()=>{var t;null==(t=window.RemoteFunc)||t.call(window),e()},r.onerror=e=>{t(e)},document.body.appendChild(r)})})),(e,t)=>{const r=a("RouterView");return n(),s(r)})},[["__scopeId","data-v-a04d5f18"]]),x={},A={class:"post-item-title"},L={class:"post-item-body"},T={class:"post-item-footer"},D={class:"footer-left"},W=j({__name:"ArticleItem",setup(r){const s=I(),a=t([]);return e(null,null,function*(){yield s.getArticleData(),a.value=s.articleList}),(e,t)=>(n(!0),o(l,null,i(a.value,e=>(n(),o("div",{class:"postsList",key:e.id},[c("div",A,d(e.title),1),c("div",L,d(e.body),1),c("div",T,[c("div",D,"发布者："+d(e.userId),1),t[0]||(t[0]=c("div",{class:"footer-right"},[c("button",null,"11111")],-1))])]))),128))}},[["__scopeId","data-v-c907761d"]]);k.locale("zh-cn");const C={class:"header-class"},Y={class:"right"},M=j({__name:"GlobalTop",setup(e){const r=((e={})=>{const{format:r="YYYY-MM-DD HH:mm:ss",interval:s=1e3,autoUpdate:a=!0}=e,n=t(new Date);let o;return a&&(o=setInterval(()=>{n.value=new Date},s),u(()=>clearInterval(o))),m(()=>k(n.value).format(r))})();return(e,t)=>(n(),o("div",C,[t[0]||(t[0]=c("div",{class:"left"},"无限公司",-1)),c("div",Y,d(p(r)),1)]))}},[["__scopeId","data-v-d4aaec33"]]),S={class:"footer-class"};const q=j({},[["render",function(e,t){return n(),o("div",S,"版权所有，翻版必究！")}],["__scopeId","data-v-e18a12ed"]]),H={class:"home"},N=j({__name:"HomeView",setup:e=>(e,t)=>(n(),o("div",H,[h(p(M)),c("div",null,[h(W)]),h(p(q))]))},[["__scopeId","data-v-4446b051"]]),R=["/","home","404","403"],B=v({history:f("/"),routes:[{path:"/",name:"home",component:N,meta:{title:"home"}},{path:"/403",name:"403",component:()=>function(e,t){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in x)return;x[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})}(()=>import("./403-DAzOMSZ5.js"),__vite__mapDeps([0,1,2,3,4,5])),meta:{title:"403"}}]});B.beforeEach((e,t,r)=>{if(e.name||e.fullPath,!R.includes(e.name))return r({path:"/403",name:"403",query:{}});document.title=e.meta.title||"默认标题",r()});const $=g(P);$.use(U),$.use(B),$.mount("#app");export{j as _};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/403-DbQSy1-y.js","js/vendor-vue-BjIoIetQ.js","js/vendor-other-Gj_Enzrs.js","assets/vendor-other-BgDCIyLK.css","js/vendor-store-BTMMS47t.js","js/vendor-utils-CUZGapLB.js","assets/403-BTafMZiM.css"])))=>i.map(i=>d[i]);
var e=(e,t,r)=>new Promise((s,n)=>{var a=e=>{try{i(r.next(e))}catch(t){n(t)}},o=e=>{try{i(r.throw(e))}catch(t){n(t)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,o);i((r=r.apply(e,t)).next())});import{h as t,N as r}from"./vendor-other-Gj_Enzrs.js";import{r as s,j as n,k as a,l as o,p as i,q as l,s as c,u as d,F as u,v as m,x as p,y as h,d as v,z as f,A as g,B as y,C as b}from"./vendor-vue-BjIoIetQ.js";import{d as w,c as _,s as k}from"./vendor-store-BTMMS47t.js";import{a as E}from"./vendor-utils-CUZGapLB.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const O=w("article",()=>{const t=s([]);return{articleList:t,setArticleData:r=>e(null,null,function*(){t.value=Object.values(r)})}},{enabled:!0,strategies:[{key:"article",storage:localStorage,paths:["articleList"]}]}),I=w("requestNum",()=>{const e=s(0);return{requestNum:e,add:t=>{e.value+=t,e.value<=0&&(e.value=0)}}}),U=_();U.use(k);const j={wmCanvasUrl:"",wmObserver:null,wmDiv:null,updateTimer:null,isUpdating:!1,createWatermark({text:e=["默认水印"],width:r=300,height:s=200,font:n="13px Microsoft YaHei",color:a="rgba(180,180,180,0.3)",lineHeight:o=20,angle:i=-20}){const l=document.createElement("canvas");l.width=r,l.height=s;const c=l.getContext("2d");c.clearRect(0,0,r,s),c.fillStyle=a,c.font=n,c.textBaseline="top",c.setTransform(1,0,0,1,r/2,s/2),c.rotate(i*Math.PI/180);const d=[...e,t().format("YYYY-MM-DD HH:mm:ss")];let u=-d.length*o/2;d.forEach(e=>{const t=c.measureText(e).width;c.fillText(e,-t/2,u),u+=o}),this.wmCanvasUrl=l.toDataURL()},renderWatermark(){if(!this.isUpdating){this.isUpdating=!0;try{const e=document.getElementById("__global_watermark");e&&e.remove();const t=document.createElement("div");t.id="__global_watermark",Object.assign(t.style,{position:"fixed",inset:"0",zIndex:"999999",pointerEvents:"none",backgroundImage:`url(${this.wmCanvasUrl})`,backgroundRepeat:"repeat"}),document.body.appendChild(t),this.wmDiv=t}finally{this.isUpdating=!1}}},startObserver(){this.wmObserver&&this.wmObserver.disconnect(),this.wmObserver=new MutationObserver(e=>{if(this.isUpdating)return;let t=!1;const r=document.getElementById("__global_watermark");e.forEach(e=>{(e.removedNodes.length||e.addedNodes.length||"__global_watermark"===e.target.id&&"style"===e.attributeName)&&(t=!0)}),!t||r&&r.style.backgroundImage===`url("${this.wmCanvasUrl}")`||this.renderWatermark()}),this.wmObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})},setWatermark(e={}){this.createWatermark(e),this.renderWatermark(),this.startObserver()},startAutoUpdate(e,t=1e3){this.stopAutoUpdate(),this.setWatermark(e);const r=()=>{this.createWatermark(e),this.renderWatermark(),this.updateTimer=setTimeout(r,t)};this.updateTimer=setTimeout(r,t)},stopAutoUpdate(){clearTimeout(this.updateTimer),this.updateTimer=null},removeWatermark(){var e;this.stopAutoUpdate(),null==(e=this.wmObserver)||e.disconnect(),this.wmObserver=null;const t=document.getElementById("__global_watermark");t&&t.remove(),this.wmDiv=null,this.isUpdating=!1}},P=(e,t)=>{const r=e.__vccOpts||e;for(const[s,n]of t)r[s]=n;return r},A=P({__name:"App",setup:t=>(j.startAutoUpdate({text:["测试","水印"]}),n(()=>e(null,null,function*(){yield new Promise((e,t)=>{if(document.querySelector("#remote-cdn-script"))return void e();const r=document.createElement("script");r.id="cdn-particles",r.src="https://cdn.jsdelivr.net/npm/canvas-nest.js/dist/canvas-nest.js",r.async=!0,r.defer=!0,r.type="text/javascript",r.color="90,156,254",r.opacity="0.7",r.zIndex="2",r.count="66",r.onload=()=>{var t;null==(t=window.RemoteFunc)||t.call(window),e()},r.onerror=e=>{t(e)},document.body.appendChild(r)})})),(e,t)=>{const r=o("RouterView");return i(),a(r)})},[["__scopeId","data-v-a04d5f18"]]),x={};function T(){I().add(-1)}const D=E.create({timeout:1e4,baseURL:"/"});function L(e){if(E.isCancel(e))return{canceled:!0};if("ECONNABORTED"===e.code)return{timeout:!0};if(!e.response)return{networkError:!0};return{httpError:!0,status:e.response.status,data:e.response.data}}D.interceptors.request.use(e=>(I().add(1),e),e=>(T(),Promise.reject(L(e)))),D.interceptors.response.use(e=>(T(),e&&200<=e.status<=299?e.data:Promise.reject(e)),e=>(T(),Promise.reject(L(e))));const C={class:"post-item-title"},N={class:"post-item-body"},W={class:"post-item-footer"},S={class:"footer-left"},q=P({__name:"ArticleItem",setup(t){const r=O(),n=s([]);return e(null,null,function*(){D("/api/getArticle").then(t=>e(null,null,function*(){r.setArticleData(t)})).catch(e=>{n.value=[]})}),(e,t)=>(i(!0),l(u,null,c(d(r).articleList,e=>(i(),l("div",{class:"postsList",key:e.id},[m("div",C,p(e.title),1),m("div",N,p(e.body),1),m("div",W,[m("div",S,"发布者："+p(e.userId),1),t[0]||(t[0]=m("div",{class:"footer-right"},[m("button",null,"11111")],-1))])]))),128))}},[["__scopeId","data-v-a3733f26"]]);t.locale("zh-cn");const Y={class:"header-class"},M={class:"right"},R=P({__name:"GlobalTop",setup(e){const r=((e={})=>{const{format:r="YYYY-MM-DD HH:mm:ss",interval:n=1e3,autoUpdate:a=!0}=e,o=s(new Date);let i;return a&&(i=setInterval(()=>{o.value=new Date},n),h(()=>clearInterval(i))),v(()=>t(o.value).format(r))})();return(e,t)=>(i(),l("div",Y,[t[0]||(t[0]=m("div",{class:"left"},"无限公司",-1)),m("div",M,p(d(r)),1)]))}},[["__scopeId","data-v-d4aaec33"]]),B={class:"footer-class"};const H=P({},[["render",function(e,t){return i(),l("div",B,"版权所有，翻版必究！")}],["__scopeId","data-v-e18a12ed"]]),$={class:"home"},z=P({__name:"HomeView",setup:e=>(e,t)=>(i(),l("div",$,[f(d(R)),m("div",null,[f(q)]),f(d(H))]))},[["__scopeId","data-v-f5fe832e"]]),F=["/","home","404","403"];let V={easing:"ease",showSpinner:!1,trickleSpeed:200},G=!1;G||(r.configure(V),G=!0);const K=g({history:y("/"),routes:[{path:"/",name:"home",component:z,meta:{title:"home"}},{path:"/403",name:"403",component:()=>function(e,t){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),n=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in x)return;x[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})}(()=>import("./403-DbQSy1-y.js"),__vite__mapDeps([0,1,2,3,4,5,6])),meta:{title:"403"}}]});K.beforeEach((e,t,s)=>{if(r.start(),e.name||e.fullPath,!F.includes(e.name))return s({path:"/403",name:"403",query:{}});document.title=e.meta.title||"默认标题",s()}),K.afterEach(()=>{r.done()});const J=b(A);J.use(U),J.use(K),J.mount("#app");export{P as _};
